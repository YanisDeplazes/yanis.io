---
const links = [
  { name: 'Selected', path: '/' },
  { name: 'Work', path: '/work' },
  { name: 'Info', path: '/info' },
];

const currentPath = Astro.url.pathname;

// Check if we are on the home page
const isHome = currentPath === '/';
---

<ul class="list">
  {
    links.map(({ name, path }) => {
      // If it's the home link, only highlight it if the currentPath is exactly '/'
      const isActive =
        (path === '/' && isHome) ||
        (path !== '/' && currentPath.startsWith(path));
      return (
        <li class={isActive ? 'active' : ''}>
          <a href={path} class="link title-font font-size-5">
            {name}
          </a>
        </li>
      );
    })
  }
</ul>

<style>
  .list {
    margin: 0;
    position: fixed;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--color-primary);
    display: flex;
    gap: var(--space-s);
    color: var(--color-project);
    align-items: center;
    justify-content: center;
    flex-direction: column;
    opacity: 0;
    transition: all 0.2s ease-in-out;
    pointer-events: none;

    @media (min-width: 1100px) {
      color: var(--color-primary);
      flex-direction: row;
      gap: var(--space-xl);
      opacity: 1;
      width: unset;
      height: unset;
      background-color: unset;
      position: unset;
      pointer-events: all;
    }

    li {
      position: relative;
      transition: all 0.3s ease;

      &:hover {
        opacity: 0.8;
      }
      &.active {
        a::after {
          content: '';
          position: absolute;
          bottom: 0;
          width: 100%;
          height: 1px;
          left: 0;
          bottom: 0px;
          background-color: var(--color-project);

          @media (min-width: 1100px) {
            background-color: var(--color-primary);
          }
        }
      }
    }
    &.open {
      opacity: 1;
      pointer-events: all;
    }
  }
</style>
