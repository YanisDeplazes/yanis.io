---
const { title, year, types, link } = Astro.props;

const isExternal = link.startsWith('http://') || link.startsWith('https://');
---

<div class="work border">
  <div class="container">
    <div class="title color-dark">
      <span class="color-white lato-bold font-size-small">{year}</span>
      <h3 class="color-white lato-bold font-size-6">{title}</h3>
      <div class="c2a"></div>
    </div>
    <div class="tags">
      {
        types.map((type: string) => (
          <span class="tag color-white letter-spacing font-size-small">
            {type}
          </span>
        ))
      }
    </div>
  </div>

  <a href={link} target={isExternal ? '_blank' : undefined}> </a>
</div>

<style lang="scss">
  $breakpoint-tablet: 768px;

  .work {
    position: relative;
    border-bottom: 0;
    border-left: 0;
    border-right: 0;

    .container {
      display: flex;
      justify-content: space-between;
      flex-direction: column-reverse;
      $breakpoint-tablet: 768px;
      row-gap: 0;
      column-gap: var(--space-s);
      padding-top: var(--space-m);
      @media (min-width: $breakpoint-tablet) {
        align-items: center;
        flex-direction: row;
        padding-top: 0;
      }
    }

    .title {
      display: flex;
      align-items: center;
      gap: var(--space-s);
    }

    .tags {
      display: flex;
      align-items: center;
      gap: var(--space-2xs);
      .tag {
        background-color: white;
        color: #101010;
        padding: 0.5em 1em;
        border-radius: 2em;

        @media (min-width: $breakpoint-tablet) {
          padding: 1em 2em;
        }
      }
    }

    .c2a {
      &::after {
        aspect-ratio: 1 / 1;
        width: 0px;
        height: 0px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: 0.2s ease;
        content: url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24.9999 8V21C24.9999 21.2652 24.8946 21.5196 24.7071 21.7071C24.5195 21.8946 24.2652 22 23.9999 22C23.7347 22 23.4804 21.8946 23.2928 21.7071C23.1053 21.5196 22.9999 21.2652 22.9999 21V10.4137L8.70745 24.7075C8.51981 24.8951 8.26531 25.0006 7.99995 25.0006C7.73458 25.0006 7.48009 24.8951 7.29245 24.7075C7.1048 24.5199 6.99939 24.2654 6.99939 24C6.99939 23.7346 7.1048 23.4801 7.29245 23.2925L21.5862 9H10.9999C10.7347 9 10.4804 8.89464 10.2928 8.70711C10.1053 8.51957 9.99995 8.26522 9.99995 8C9.99995 7.73478 10.1053 7.48043 10.2928 7.29289C10.4804 7.10536 10.7347 7 10.9999 7H23.9999C24.2652 7 24.5195 7.10536 24.7071 7.29289C24.8946 7.48043 24.9999 7.73478 24.9999 8Z" fill="%23101010"/></svg>');
      }
    }

    @media (min-width: $breakpoint-tablet) {
      &:hover {
        .c2a {
          &::after {
            width: auto;
            height: 100%;
            max-height: calc(38px - 2em);
            background-color: white;
            color: #101010;
            padding: 1em 2em;
            border-radius: 2em;
            content: url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24.9999 8V21C24.9999 21.2652 24.8946 21.5196 24.7071 21.7071C24.5195 21.8946 24.2652 22 23.9999 22C23.7347 22 23.4804 21.8946 23.2928 21.7071C23.1053 21.5196 22.9999 21.2652 22.9999 21V10.4137L8.70745 24.7075C8.51981 24.8951 8.26531 25.0006 7.99995 25.0006C7.73458 25.0006 7.48009 24.8951 7.29245 24.7075C7.1048 24.5199 6.99939 24.2654 6.99939 24C6.99939 23.7346 7.1048 23.4801 7.29245 23.2925L21.5862 9H10.9999C10.7347 9 10.4804 8.89464 10.2928 8.70711C10.1053 8.51957 9.99995 8.26522 9.99995 8C9.99995 7.73478 10.1053 7.48043 10.2928 7.29289C10.4804 7.10536 10.7347 7 10.9999 7H23.9999C24.2652 7 24.5195 7.10536 24.7071 7.29289C24.8946 7.48043 24.9999 7.73478 24.9999 8Z" fill="%23101010"/></svg>');
          }
        }
      }
    }
    a {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  }
</style>
